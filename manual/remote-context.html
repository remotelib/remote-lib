<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | RemoteLib</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Run remote JavaScript code as if it&apos;s your own local library."><meta property="twitter:card" content="summary"><meta property="twitter:title" content="RemoteLib"><meta property="twitter:description" content="Run remote JavaScript code as if it&apos;s your own local library."></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/remotelib/remote-lib"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/remote-lib.html"><a href="manual/remote-lib.html" data-ice="link">Remote-lib</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-lib.html"><a href="manual/remote-lib.html#install" data-ice="link">Install</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-lib.html"><a href="manual/remote-lib.html#usage" data-ice="link">Usage</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/remote-lib.html"><a href="manual/remote-lib.html#on-the-server" data-ice="link">On the server</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/remote-lib.html"><a href="manual/remote-lib.html#on-the-client" data-ice="link">On the client</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-lib.html"><a href="manual/remote-lib.html#api-reference" data-ice="link">API Reference</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/remote-context.html"><a href="manual/remote-context.html" data-ice="link">Remote-context</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-context.html"><a href="manual/remote-context.html#install" data-ice="link">Install</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-context.html"><a href="manual/remote-context.html#usage" data-ice="link">Usage</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/remote-context.html"><a href="manual/remote-context.html#on-the-server" data-ice="link">On the server</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/remote-context.html"><a href="manual/remote-context.html#on-the-client" data-ice="link">On the client</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-context.html"><a href="manual/remote-context.html#supported-environments" data-ice="link">Supported Environments</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-context.html"><a href="manual/remote-context.html#api-reference" data-ice="link">API Reference</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/remote-environment.html"><a href="manual/remote-environment.html" data-ice="link">Remote-environment</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-environment.html"><a href="manual/remote-environment.html#install" data-ice="link">Install</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-environment.html"><a href="manual/remote-environment.html#usage" data-ice="link">Usage</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-environment.html"><a href="manual/remote-environment.html#supported-environments" data-ice="link">Supported Environments</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-environment.html"><a href="manual/remote-environment.html#api-reference" data-ice="link">API Reference</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/remote-instance.html"><a href="manual/remote-instance.html" data-ice="link">Remote-instance</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-instance.html"><a href="manual/remote-instance.html#install" data-ice="link">Install</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-instance.html"><a href="manual/remote-instance.html#usage" data-ice="link">Usage</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-instance.html"><a href="manual/remote-instance.html#api-reference" data-ice="link">API Reference</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/remote-protocol.html"><a href="manual/remote-protocol.html" data-ice="link">Remote-protocol</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-protocol.html"><a href="manual/remote-protocol.html#install" data-ice="link">Install</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-protocol.html"><a href="manual/remote-protocol.html#usage" data-ice="link">Usage</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/remote-protocol.html"><a href="manual/remote-protocol.html#api-reference" data-ice="link">API Reference</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/reference-context.html"><a href="manual/reference-context.html" data-ice="link">Reference-context</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/reference-context.html"><a href="manual/reference-context.html#install" data-ice="link">Install</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/reference-context.html"><a href="manual/reference-context.html#usage" data-ice="link">Usage</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/reference-context.html"><a href="manual/reference-context.html#api-reference" data-ice="link">API Reference</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><p><a href="https://www.npmjs.org/package/remote-context"><img src="http://img.shields.io/npm/v/remote-context.svg" alt="view on npm"></a>
<a href="https://travis-ci.org/remotelib/remote-lib"><img src="https://travis-ci.org/remotelib/remote-lib.svg?branch=master" alt="Build Status"></a>
<a href="https://david-dm.org/remotelib/remote-lib?path=packages/remote-context"><img src="https://david-dm.org/remotelib/remote-lib.svg?path=packages/remote-context" alt="Dependency Status"></a>
<a href="https://codecov.io/gh/remotelib/remote-lib"><img src="https://codecov.io/gh/remotelib/remote-lib/branch/master/graph/badge.svg" alt="codecov"></a>
<a href="./manual/LICENSE"><img src="https://img.shields.io/npm/l/remote-context.svg" alt="npm license"></a></p>
<h1 id="remote-context">Remote-context</h1><p>Create a virtual context and share it remotely with other peers via <strong>ANY</strong> stream object &#x1F4AB;.</p>
<p>Using only a <a href="https://nodejs.org/api/stream.html#stream_class_stream_duplex">Duplex stream</a> such as 
<a href="https://nodejs.org/api/net.html#net_net_createconnection_options_connectlistener">TCP soocket</a>, 
<a href="https://www.npmj.com/package/websocket-stream">WebSocket</a> or even 
<a href="https://www.npmjs.com/package/simple-peer">WebRTC DataChannel</a> with this library you can just share
your code with other peers without worrying for API interfaces or RPC integration. Your users 
will be able to use your code remotely exactly as you write it. Including calling functions with 
callbacks, Promises, class inheritance and more.</p>
<p>This library is the core of <a href="https://www.npmjs.org/package/remote-lib">remote-lib</a> module.</p>
<h2 id="install">Install</h2><pre><code><code class="source-code prettyprint">npm install remote-context</code>
</code></pre><h2 id="usage">Usage</h2><h3 id="on-the-server">On the server</h3><pre><code class="lang-js"><code class="source-code prettyprint">const net = require(&apos;net&apos;);

// Get the context and the environment
const { Context } = require(&apos;remote-context&apos;);
const envContext = require(&apos;remote-context/envs/es6-unstable&apos;);

// Create a new context under ES6 environment.
// You can put any object, class or instance under the context and it will be proxied to the
// remote peer automatically
const context = new Context(envContext, {
  // Static vars
  foo: &apos;bar&apos;,

  // Dynamic functions
  getRandom: () =&gt; Math.random(),

  // Async functions
  getData: () =&gt;
    new Promise(resolve =&gt;
      setTimeout(() =&gt; resolve({ data: &apos;Tada!&apos; }), 100),
    ),

  // Classes and objects
  myThings: new Set([&apos;car&apos;, &apos;keys&apos;, &apos;pizza&apos;]),
});

// Create a server and serve each client the context remotely
const server = net.createServer(socket =&gt; {
  context.remote(socket);
});

// Bind on port 3000
server.listen(3000);</code>
</code></pre>
<h3 id="on-the-client">On the client</h3><pre><code class="lang-js"><code class="source-code prettyprint">const net = require(&apos;net&apos;);

// Get the context and the environment
const { Context } = require(&apos;remote-context&apos;);
const envContext = require(&apos;remote-context/envs/es6-unstable&apos;);

// Connect to the server and get a stream
const socket = net.createConnection(3000);

// Create the remote context
const clientContext = new Context(envContext);
const remoteContext = clientContext.remote(socket);

// Get the remote &quot;foo&quot;
remoteContext.fetch(&apos;foo&apos;).then(value =&gt; {
  // value === &apos;bar&apos;
});

// Run the remote function &quot;getRandom&quot;
remoteContext.fetch(&apos;getRandom&apos;)().then(value =&gt; {
  // `value` is random number
});

// Run the remote async function &quot;getData&quot;
remoteContext.fetch(&apos;getData&apos;)().then(value =&gt; {
  // value === { data: &apos;Tada!&apos; }
});

// Get remote instance set &quot;myThings&quot;
remoteContext.fetch(&apos;myThings&apos;).then(async set =&gt; {
  set instanceof Set; // true

  // Access getters and data properties instantly
  set.size; // 3

  // Call methods with async promises
  await set.has(&apos;keys&apos;); // true
  await set.has(&apos;cat&apos;); // false

  // Change the remote instance
  await set.add(&apos;dog&apos;);
  await set.has(&apos;dog&apos;); // true
});</code>
</code></pre>
<h2 id="supported-environments">Supported Environments</h2><p><strong>Remote-context</strong> is currently supporting only limited number of environment contexts.
To use an environment you should require it explicitly:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const envContext = require(&apos;remote-context/envs/ENV_NAME&apos;);</code>
</code></pre>
<p>When <code>ENV_NAME</code> is the required environment name.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>es6-unstable</code></td>
<td>AVAILABLE</td>
<td>A development version of ES6 context. This environment consider unstable and may change over the versions.</td>
</tr>
<tr>
<td><code>node6-unstable</code></td>
<td>IN_DEVELOPMENT</td>
<td>This environment will include all Node.js version 6 context. This environment consider unstable and may change over the versions.</td>
</tr>
</tbody>
</table>
<h2 id="api-reference">API Reference</h2><p>This module is a part of the <a href="http://www.remotelib.com"><code>remote-lib</code></a> library.</p>
<p>Here is the relevant documentation for this module:</p>
<ul>
<li><a href="http://www.remotelib.com/class/packages/remote-context/src/Context.js~Context.html"><code>Context</code></a></li>
<li><a href="http://www.remotelib.com/class/packages/remote-context/src/EnvContext.js~EnvContext.html"><code>EnvContext</code></a></li>
<li><a href="http://www.remotelib.com/class/packages/remote-context/src/RemoteContext.js~RemoteContext.html"><code>RemoteContext</code></a></li>
<li><a href="http://www.remotelib.com/class/packages/remote-context/src/RemoteSession.js~RemoteSession.html"><code>RemoteSession</code></a></li>
<li><a href="http://www.remotelib.com/typedef/index.html#static-typedef-es6UnstableEnv"><code>es6UnstableEnv</code></a></li>
<li><a href="http://www.remotelib.com/class/packages/remote-context/src/RemoteValue.js~RemoteValue.html#static-method-observe"><code>observe</code></a></li>
</ul>
<p><br>
<br></p>
<hr>
<p>&#xA9; 2017 Moshe Simantov</p>
<p>Licensed under the <a href="./manual/LICENSE">Apache License, Version 2.0</a>.</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.4)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
